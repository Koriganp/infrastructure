<!--/////////////////-->
<!-- Admin Dashboard -->
<!--/////////////////-->

<!--////////-->
<!-- NavBar -->
<!--////////-->

<header>
	<nav class="navbar navbar-default navbar-expand-md navbar-fixed-top bg-light">
		<a class="navbar-brand text-dark" routerLink="home-view">ABQ Report</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarTogglerDemo01">
			<ul class="navbar-nav ml-auto">
				<!--<li class="nav-link">-->
					<!--<button class="btn btn-info my-0 mr-sm-2" data-toggle="modal" data-target="#signup-modal"><i class="fa fa-user-plus"></i> Sign Up</button>-->
				<!--</li>-->
				<!--<li class="nav-link">-->
					<!--<button class="btn btn-info my-0 mr-sm-2" data-toggle="modal" data-target="#signin-modal"><i class="fa fa-sign-in"></i> Sign In</button>-->
				<!--</li>-->
				<li class="nav-link">
				<button class="btn btn-info my-0 mr-sm-2" data-toggle="modal" data-target="#signout-modal"><i class="fa fa-sign-out"></i> Sign Out</button>
				</li>
			</ul>
		</div>
	</nav>
</header>

<!--//////////////-->
<!-- Main Content -->
<!--//////////////-->

<main>
	<div class="container" id="landing-page">
		<div class="mx-5 m-5">
			<h1 class="text-center text-light display-2">Admin Dashboard</h1>
		</div>
	</div>
</main>

<!-- Injected Report Table for Admin View -->

<!--////////////////////-->
<!-- Admin Report Table -->
<!--////////////////////-->

<div class="container mt-3">

	<!--<h2 class="m-2 p-3 text-light">Reports Submitted-->
	<!--<button class="btn btn-info my-0 mr-sm-2 d-inline-block ml-auto"><i class="fa fa-pie-chart" (click)="listCategories()"></i>&nbsp;Sort By Category</button>-->
	<!--</h2>-->

	<!--Category Button Dropdown-->

	<div class="input-group d-block ml-4">
		<div class="input-group-btn">
			<h2 class="m-2 p-3 text-light d-inline-block">Reports Submitted</h2>
				<button type="button" class="btn btn-info mb-2 d-inline-block mr-auto rounded"><i class="fa fa-pie-chart"></i>&nbsp;Sort By Category
				<select title="category" (change)="filterCategory($event.target.value);">
					<option *ngFor="let category of categories" [value]="category.categoryId">{{category.categoryName}}
					</option>
				</select>
				</button>
		</div>


		<table class="table table-bordered table-responsive mb-5">

			<!-- Table Head -->

			<thead class="thead-dark">
				<tr>
					<th class="px-5 text-center">Category</th>
					<th class="text-center">Date Reported</th>
					<th class="text-center">Report Status</th>
					<th class="text-center">Report Urgency</th>
					<th class="text-center">Report Content</th>
					<th class="text-center">View Report</th>
					<th class="text-center">Write Comment</th>
				</tr>
			</thead>

			<!-- Table Body -->

			<tbody class="table-light mb-5">

				<!-- Dynamic Table Rows -->

				<tr *ngFor="let report of reports;">
					<td>{{ getCategoryByCategoryId(report.reportCategoryId).categoryName }}</td>
					<td>{{ report.reportDateTime | date }}</td>
					<td>{{ report.reportStatus }}</td>
					<td>{{ report.reportUrgency}}</td>
					<td>{{ report.reportContent }}</td>

					<!-- Report Edit Modal  -->

					<td (click)="setSharedValue(report.reportId);">
						<button class="btn btn-info my-0 mr-sm-2" data-toggle="modal" data-target="#report-admin-view-modal"><i class="fa fa-pencil-square-o"></i> Edit Report
						</button>
					</td>

					<td> <!-- (click)="setSharedValue(report.reportId);"-->
						<button class="btn btn-info my-0 mr-sm-2" data-toggle="modal" data-target="#comment-modal"><i class="fa fa-pencil-square-o"></i> Comment
						</button>
					</td>
				</tr>

			</tbody>
		</table>

	</div>
</div>

<!-- Modal Window Components (Child Components for Admin Dashboard)-->
<comment></comment>
<report-admin-view></report-admin-view>
<sign-out></sign-out>